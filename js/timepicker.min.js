angular.module("ui.timepicker",[])
	.value("uiTimepickerConfig",{step:15,timeFormat:"H:i"})
	.directive("uiTimepicker",["uiTimepickerConfig",function(a){
		return{
			restrict:"A",
			require:"ngModel",
			priority:1,
			link:function(b,c,d,e){
				e.$render=function(){
					var a=e.$modelValue;
					if(angular.isDefined(a)&&null!==a&&!angular.isDate(a))
						throw new Error("ng-Model value must be a Date object - currently it is a "+typeof a+".");
					c.is(":focus")||c.timepicker("setTime",a)
				},
				e.$parsers.unshift(
					function(){
						var a=c.timepicker("getTime",e.$modelValue);
						return a
					}),
				b.$watch(d.ngModel,function(){
					e.$render()
				},!0),
				c.timepicker(a),
				c.on("changeTime",function(){
					b.$evalAsync(function(){
						var a=c.timepicker("getTime",e.$modelValue);
						e.$setViewValue(a)
					})
				})
			}
		}
	}
]);
